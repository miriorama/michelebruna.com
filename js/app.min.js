var BRUNA=function(){let e={METHOD:"method",EXHIBITION:"exhibition",showWork:function(e){let t=document.querySelector("body");if(!e){t.classList.remove("o-hidden");let e=document.querySelector(".work.selected");if(e){e.classList.remove("selected"),e.querySelector(".work-gallery").removeEventListener("scroll",a)}return}let o=document.querySelector(`#${e}`);if(!o)return;o.classList.add("selected"),t.classList.add("o-hidden"),o.getAttribute("data-is-exhibition")&&o.classList.add("is-exhibition");let r=o.getAttribute("data-background-color"),l=o.getAttribute("data-color");o.setAttribute("style",`--work-color: ${l};--work-background-color:${r}`);let s=o.querySelector(".gallery-separator"),i=o.querySelector(".gallery"),c=o.querySelector(".work-arrow-down");function a(){let e=o.querySelector(".work-gallery").scrollTop,t=s?s.offsetTop:0;if(t)if(e>t-window.innerHeight/2){o.classList.add("is-exhibition");let e=o.querySelector("[data-switch=exhibition]");e&&e.classList.add("selected");let t=o.querySelector("[data-switch=method]");t&&t.classList.remove("selected")}else{o.classList.remove("is-exhibition"),o.querySelector("[data-switch=exhibition]").classList.remove("selected"),o.querySelector("[data-switch=method]").classList.add("selected")}i.offsetHeight-window.innerHeight<=e?c.classList.add("is-bottom"):c.classList.remove("is-bottom")}o.querySelector(".work-gallery").addEventListener("scroll",a)},scrollTo:function(e){let t,o=document.querySelector(".work.selected");t=e===BRUNA.EXHIBITION?o.querySelector(".gallery-separator").offsetTop:0,o.querySelector(".work-gallery").scroll({top:t,behavior:"smooth"})},scrollDown:function(e){let t=document.querySelector(".work.selected"),o=t.querySelector(".work-gallery").scrollTop+500,r=t.querySelector(".work-gallery");e.classList.contains("is-bottom")&&(o=0),r.scroll({top:o,behavior:"smooth"})},init:function(){let e=document.querySelectorAll(".work");for(const t of e)t.removeAttribute("hidden");BRUNA.setYear(),window.addEventListener("popstate",(e=>{BRUNA.view()})),BRUNA.view()},setYear:function(){document.getElementById("year").innerHTML=(new Date).getFullYear()},view:function(e=null){if(e)history.pushState({},e,"/"!==e?"?"+e:"/");else{const t=new URLSearchParams(window.location.search);let o=document.querySelectorAll(".work");for(const r of o)t.has(r.id)&&(e=r.id)}BRUNA.showWork("/"===e?null:e)}};return e}();BRUNA.init();