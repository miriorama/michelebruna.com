var BRUNA=function(){let e={METHOD:"method",EXHIBITION:"exhibition",showWork:function(e){function t(){let e=r.querySelector(".work-gallery").scrollTop,t=c?c.offsetTop:0;if(t)if(e>t-window.innerHeight/2){r.classList.add("is-exhibition");let e=r.querySelector("[data-switch=exhibition]");e&&e.classList.add("selected");let t=r.querySelector("[data-switch=method]");t&&t.classList.remove("selected")}else{r.classList.remove("is-exhibition");let e=r.querySelector("[data-switch=exhibition]");e.classList.remove("selected");let t=r.querySelector("[data-switch=method]");t.classList.add("selected")}a.offsetHeight-window.innerHeight<=e?n.classList.add("is-bottom"):n.classList.remove("is-bottom")}let o=document.querySelector("body");if(!e){o.classList.remove("o-hidden");let e=document.querySelector(".work.selected");if(e){e.classList.remove("selected");let o=e.querySelector(".work-gallery");o.removeEventListener("scroll",t)}return}let r=document.querySelector(`#${e}`);if(!r)return;r.classList.add("selected"),o.classList.add("o-hidden");let l=r.getAttribute("data-is-exhibition");l&&r.classList.add("is-exhibition");let s=r.getAttribute("data-background-color"),i=r.getAttribute("data-color");r.setAttribute("style",`--work-color: ${i};--work-background-color:${s}`);let c=r.querySelector(".gallery-separator"),a=r.querySelector(".gallery"),n=r.querySelector(".work-arrow-down"),d=r.querySelector(".work-gallery");d.addEventListener("scroll",t)},scrollTo:function(e){let t,o=document.querySelector(".work.selected");t=e===BRUNA.EXHIBITION?o.querySelector(".gallery-separator").offsetTop:0;let r=o.querySelector(".work-gallery");r.scroll({top:t,behavior:"smooth"})},scrollDown:function(e){let t=document.querySelector(".work.selected"),o=t.querySelector(".work-gallery").scrollTop+500,r=t.querySelector(".work-gallery");e.classList.contains("is-bottom")&&(o=0),r.scroll({top:o,behavior:"smooth"})},init:function(){let e=document.querySelectorAll(".work");for(const t of e)t.removeAttribute("hidden");BRUNA.setYear(),window.addEventListener("popstate",e=>{BRUNA.view()}),BRUNA.view()},setYear:function(){document.getElementById("year").innerHTML=(new Date).getFullYear()},view:function(e=null){if(e)history.pushState({},e,"/"!==e?"?"+e:"/");else{const t=new URLSearchParams(window.location.search);let o=document.querySelectorAll(".work");for(const r of o)t.has(r.id)&&(e=r.id)}BRUNA.showWork("/"===e?null:e)}};return e}();BRUNA.init();